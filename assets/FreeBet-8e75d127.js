import{h as _}from"./style-b04d585f.js";import{_ as y,o as a,c as r,a as s,t as l,n as f,r as k,d as p,F as A,e as w,b,w as h,v as C,f as v,g,h as $,T as S}from"./index-1ff572c9.js";import{N as U}from"./Navigation-408efce9.js";import{_ as V}from"./lodash-7c8c6caf.js";const x={name:"CardConversion",mixins:[_],props:{play:Object,betA:String,betB:String}},L={class:"card"},N={class:"util"},z=s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",viewBox:"0 0 384 512"},[s("path",{fill:"currentColor",d:"M369.83 97.98L285.94 14.1c-9-9-21.2-14.1-33.89-14.1H47.99C21.5.1 0 21.6 0 48.09v415.92C0 490.5 21.5 512 47.99 512h287.94c26.5 0 48.07-21.5 48.07-47.99V131.97c0-12.69-5.17-24.99-14.17-33.99zM255.95 51.99l76.09 76.08h-76.09V51.99zM336 464.01H47.99V48.09h159.97v103.98c0 13.3 10.7 23.99 24 23.99H336v287.95zM224 264v20.8c0 35.48 12.88 68.89 36.28 94.09 3.02 3.25 7.27 5.11 11.72 5.11s8.7-1.86 11.72-5.11c23.41-25.2 36.28-58.61 36.28-94.09V264c0-4.42-3.58-8-8-8h-16c-4.42 0-8 3.58-8 8v20.8c0 20.27-5.7 40.17-16 56.88-10.3-16.7-16-36.61-16-56.88V264c0-4.42-3.58-8-8-8h-16c-4.42 0-8 3.58-8 8zm-104-8h-8c-26.51 0-48 21.49-48 48v32c0 26.51 21.49 48 48 48h8c4.42 0 8-3.58 8-8v-16c0-4.42-3.58-8-8-8h-8c-8.84 0-16-7.16-16-16v-32c0-8.84 7.16-16 16-16h8c4.42 0 8-3.58 8-8v-16c0-4.42-3.58-8-8-8zm59.45 42.47c-1.38-1.19-2.12-2.55-2.12-3.84 0-3.12 4.45-6.62 10.41-6.62H200c4.42 0 8-3.58 8-8v-16c0-4.42-3.58-8-8-8h-12.27c-23.39 0-42.41 17.33-42.41 38.62 0 10.66 4.86 20.92 13.33 28.14l21.89 18.77c1.38 1.19 2.12 2.55 2.12 3.84 0 3.12-4.45 6.62-10.41 6.62H160c-4.42 0-8 3.58-8 8v16c0 4.42 3.58 8 8 8h12.27c23.39 0 42.41-17.33 42.41-38.62 0-10.66-4.86-20.92-13.33-28.14l-21.9-18.77z"})],-1),F=[z],M=s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},[s("path",{fill:"currentColor",d:"M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"})],-1),D=[M],H={class:"card-body"},K={class:"flex split"},T={class:"amount"},I={class:"number"},P=s("small",null,"free bet",-1),Q={class:"amount"},O={class:"number"},q=s("small",null,"stake",-1),E={class:"flex-center mt-15 mb-25"},R={class:"amount"},j={class:"number sunk color-orange"},G=s("small",null,"staked",-1),J={class:"flex split card-bottom"},W={class:"amount"},X={class:"number color-green"},Y=s("span",{class:"or"},"or",-1),Z={class:"amount"},ss={class:"number color-green"};function ts(t,e,n,c,i,d){return a(),r("div",L,[s("div",{class:f([{show:t.copyConfirmation},"copy-confirmation flex"])},l(t.copyConfirmation),3),s("div",N,[s("button",{onClick:e[0]||(e[0]=u=>t.copyToClipboard("csv")),class:"copy-to-clipboard"},F),s("button",{onClick:e[1]||(e[1]=u=>t.copyToClipboard("shareLink")),class:"ml-10 copy-to-clipboard"},D)]),s("h2",null,l(n.play.percent)+"%",1),s("div",H,[s("div",K,[s("div",T,[s("label",null,l(n.betA)+" ("+l(Number(this.play.oddsA)>0?`+${this.play.oddsA}`:this.play.oddsA)+")",1),s("div",I,l(t.formatUSD(n.play.stakeA)),1),P]),s("div",Q,[s("label",null,l(n.betB)+" ("+l(Number(this.play.oddsB)>0?`+${this.play.oddsB}`:this.play.oddsB)+")",1),s("div",O,l(t.formatUSD(n.play.stakeB)),1),q])]),s("div",E,[s("div",R,[s("div",j,l(t.formatUSD(n.play.stakeB)),1),G])]),s("div",J,[s("div",W,[s("div",X,l(t.formatUSD(n.play.profitA)),1),s("small",null,l(t.formatUSD(n.play.payoutA))+" payout",1)]),Y,s("div",Z,[s("div",ss,l(t.formatUSD(n.play.profitB)),1),s("small",null,l(t.formatUSD(n.play.payoutB))+" payout",1)])])])])}const es=y(x,[["render",ts]]),os={name:"FreeBet",mixins:[_],components:{CardConversion:es,Navigation:U},data(){return{viewingBookmark:!1,oddsA:"",stakeA:"",oddsB:"",plays:[],conversion:!1,loading:!1,freshInput:!0,hasSearched:!1,bookmarks:[],freeBetMode:!1}},created(){this.bindShortcuts(),this.calcFromUrl()},methods:{calcFromUrl(){const t=this.getQueryString("oddsa"),e=this.getQueryString("stakea"),n=this.getQueryString("oddsb"),c=this.getQueryString("booka"),i=this.getQueryString("bookb");this.oddsA=t,this.stakeA=e,this.oddsB=n,c&&(this.labelA=decodeURIComponent(c)),i&&(this.labelB=decodeURIComponent(i)),this.calculate()},bindShortcuts(){document.addEventListener("keydown",t=>{this.editingLabel||(t=t||window.event,t.keyCode===83&&this.bookmarkPlay())})},calculate(){if(!this.oddsA||!this.stakeA||!this.oddsB)return;const t=this.stakeA*(this.oddsA/100),e=this.oddsB*-1/100;let n=t*e/(1+e);this.round&&(n=Math.round(n));const c=Number(this.getPayout(Number(this.oddsB),n)),i=t-n,d=c-n,u=(i+d)/2,m={stakeA:Number(this.stakeA),oddsA:this.oddsA,payoutA:t,profitA:Number(i.toFixed(2)),stakeB:n,oddsB:this.oddsB,payoutB:c,profitB:Number(d.toFixed(2)),percent:this.percentOf(this.stakeA,u)};this.loading=!1,this.hasSearched=!0,this.conversion=m},editLabel(t){const e=`isEditingLabel${t}`,n=`labelInput${t}`;this[e]=!0,this.$nextTick(()=>{this.$refs[n].focus()})},bookmarkPlay(){if(!this.hasSearched)return;if(this.viewingBookmark){V.remove(this.bookmarks,e=>e.id==`${this.oddsA}${this.oddsB}`),this.viewingBookmark=!1;return}const t={id:`${this.oddsA}${this.oddsB}`,labelA:this.labelA,labelB:this.labelB,oddsA:this.oddsA,oddsB:this.oddsB,ev:this.balanced?this.balanced.ev.toFixed(2):0,percent:this.conversion?this.conversion.percent:0,hedge:this.conversion?this.conversion.stakeB:0};this.bookmarks.push(t),this.viewingBookmark=!0,this.resetState()},loadBookmark(t){this.oddsA=t.oddsA,this.oddsB=t.oddsB,this.labelA=t.labelA,this.labelB=t.labelB,this.freshInput=!0,this.calculate()}},watch:{round(){this.calculate()}}},ns={class:"page legacy free-bet"},is=["value"],ls={key:0,class:"bookmarks"},ds=["onClick"],as={class:"games"},rs={class:"settings"},cs=s("label",{for:"",style:{display:"block"}},"Rounding",-1),hs={class:"toggle toggle-round"},us=s("label",{for:"round"},null,-1),vs=s("div",{class:"knob"},null,-1),bs={class:"book"},ms={class:"field-wrap flex-center"},ps={class:"field"},fs=s("label",{for:"",class:"color-fb"},"Free bet",-1),ks={class:"field"},gs=s("label",{for:""},"Odds",-1),_s={class:"book"},ys={class:"field-wrap flex-center"},Bs={class:"field"},As=s("label",{for:""},"Odds",-1),ws={class:"flex-center button-wrap"},Cs=s("button",{class:"btn btn-calculate",type:"submit",tabindex:"6",name:"button"},"Calculate hedge",-1),$s=s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",fill:"currentColor"},[s("path",{d:"M0 512V48C0 21.49 21.49 0 48 0h288c26.51 0 48 21.49 48 48v464L192 400 0 512z"})],-1),Ss=[$s],Us={key:0,class:"loading flex-center"},Vs=s("div",{class:"spinner"},null,-1),xs=[Vs],Ls={class:"card-section alt"},Ns={key:0,class:"card-wrap"};function zs(t,e,n,c,i,d){const u=k("Navigation"),m=k("CardConversion");return a(),r("div",ns,[p(u),s("input",{id:"shareLink",class:"copy-input",type:"text",value:t.shareLink},null,8,is),s("form",{onSubmit:e[14]||(e[14]=g((...o)=>d.calculate&&d.calculate(...o),["prevent"]))},[i.bookmarks.length?(a(),r("div",ls,[(a(!0),r(A,null,w(i.bookmarks,(o,B)=>(a(),r("div",{class:"bookmark conversion flex-stretch",key:B,onClick:Fs=>d.loadBookmark(o)},[s("div",{class:f([t.getConversionColor(o.percent),"ev flex-center"])},l(o.percent)+"%",3),s("div",as,"$"+l(o.hedge.toLocaleString("en-US")),1)],8,ds))),128))])):b("",!0),s("div",rs,[s("div",null,[cs,s("div",hs,[h(s("input",{id:"round","onUpdate:modelValue":e[0]||(e[0]=o=>t.round=o),type:"checkbox",value:"false"},null,512),[[C,t.round]]),us,vs])])]),s("div",bs,[h(s("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=o=>t.labelA=o),class:"label-input",tabindex:"1",onFocus:e[2]||(e[2]=o=>t.editingLabel=!0),onBlur:e[3]||(e[3]=o=>t.editingLabel=!1)},null,544),[[v,t.labelA]]),s("div",ms,[s("div",ps,[fs,h(s("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=o=>i.stakeA=o),tabindex:"3",onKeyup:e[5]||(e[5]=o=>t.onKeyUp("xa")),required:""},null,544),[[v,i.stakeA]])]),s("div",ks,[gs,h(s("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=o=>i.oddsA=o),required:"",tabindex:"4",onKeyup:e[7]||(e[7]=o=>t.onKeyUp("oa"))},null,544),[[v,i.oddsA]])])])]),s("div",_s,[h(s("input",{type:"text","onUpdate:modelValue":e[8]||(e[8]=o=>t.labelB=o),class:"label-input",tabindex:"2",onFocus:e[9]||(e[9]=o=>t.editingLabel=!0),onBlur:e[10]||(e[10]=o=>t.editingLabel=!1)},null,544),[[v,t.labelB]]),s("div",ys,[s("div",Bs,[As,h(s("input",{type:"text","onUpdate:modelValue":e[11]||(e[11]=o=>i.oddsB=o),required:"",tabindex:"5",onKeyup:e[12]||(e[12]=o=>t.onKeyUp("ob"))},null,544),[[v,i.oddsB]])])])]),s("div",ws,[s("div",null,[Cs,i.conversion&&!i.loading?(a(),r("button",{key:0,tabindex:"-1",class:f([{"viewing-bookmark":i.viewingBookmark},"save-play"]),onClick:e[13]||(e[13]=g((...o)=>d.bookmarkPlay&&d.bookmarkPlay(...o),["prevent"]))},Ss,2)):b("",!0)])])],32),i.loading?(a(),r("section",Us,xs)):b("",!0),s("section",Ls,[p(S,null,{default:$(()=>[!i.loading&&i.conversion?(a(),r("div",Ns,[p(m,{play:i.conversion,"bet-A":t.labelA,"bet-B":t.labelB},null,8,["play","bet-A","bet-B"])])):b("",!0)]),_:1})])])}const Ts=y(os,[["render",zs]]);export{Ts as default};

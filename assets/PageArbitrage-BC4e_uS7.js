import{c as b,a as _,b as O,o as S,d as t,n as g,t as n,e as f,u as D,r as w,f as P,w as F,g as C,h as y}from"./index-kUUwe8IN.js";import{h as R}from"./helpers-CPgbq73n.js";import"./lodash-VTarDxAs.js";import{_ as T,a as $,b as V,c as z}from"./SubmitButton-B4GkYpr7.js";const E={class:"flex flex-wrap items-start justify-between gap-6"},I={class:"text-left"},L={class:"font-numbers tracking-tight"},H={class:"flex flex-col items-end"},Q={class:"text-left"},G={class:"font-numbers mt-1 text-3xl font-semibold"},J={class:"mt-8 flex items-start justify-between gap-4"},K={class:"font-mono text-sm"},W={class:"font-numbers mt-1 text-3xl font-bold"},X={class:"font-mono text-sm"},Y={class:"font-numbers mt-1 text-3xl font-bold"},Z={key:0},tt={class:"font-mono text-sm"},et={class:"font-numbers text-3xl font-bold"},st={class:"mt-8 flex items-start justify-between gap-4"},lt={class:"font-mono text-sm"},ot={class:"font-mono text-sm"},at={key:0},dt={class:"font-mono text-sm"},rt={class:"mt-2"},ut={__name:"ArbitrageResults",props:{results:{type:[Object,Boolean],required:!0}},setup(l){const a=l,x=b(()=>a.results?(a.results.oddsC?(a.results.profitA+a.results.profitB+a.results.profitC)/3:a.results.profitA)/p.value*100:0),p=b(()=>a.results?a.results.stakeA+a.results.stakeB+(a.results.stakeC||0):0),c=b(()=>x.value>=0?"from-green/40 to-ice-blue/40":"bg-pink/20"),k=b(()=>x.value>=0?"text-jet":"text-red"),i=b(()=>x.value>=0?"border-jet":"border-red"),m=b(()=>{if(!a.results)return window.location.href;const v=window.location.origin+window.location.pathname,{oddsA:d,oddsB:A,oddsC:B,stakeA:r}=a.results,e=new URLSearchParams;return r&&e.set("stakeA",r),d&&e.set("oddsA",d),A&&e.set("oddsB",A),B&&e.set("oddsC",B),`${v}#/arbitrage?${e.toString()}`});function s(v){return Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(v).replace(".00","")}function o(v){return Number(v)>0?`+${v}`:v}return(v,d)=>l.results?(S(),_("div",{key:0,class:g(l.results.oddsC?"max-w-[500px] md:min-w-[340px]":"max-w-[420px] md:min-w-[300px]")},[t("div",{class:g([i.value,"relative border font-mono shadow-md"])},[t("div",{class:g([c.value,"relative z-20 bg-linear-65 p-6"])},[t("div",E,[t("div",I,[d[1]||(d[1]=t("div",{class:"text-jet font-mono text-sm"},"ROI",-1)),t("div",{class:g([k.value,"mt-1 flex items-end text-4xl font-bold"])},[t("div",L,n(x.value.toFixed(2)),1),d[0]||(d[0]=t("span",{class:"ml-1 pb-1 text-2xl"},"%",-1))],2)]),t("div",H,[t("div",Q,[d[2]||(d[2]=t("div",{class:"text-jet font-mono text-sm"},"Total Stake",-1)),t("div",G,n(s(p.value)),1)])])]),d[3]||(d[3]=t("hr",{class:"border-space/40 mt-8 border-t"},null,-1)),t("div",J,[t("div",null,[t("div",K,"Bet A ("+n(o(l.results.oddsA))+")",1),t("div",W,n(s(l.results.stakeA)),1)]),t("div",null,[t("div",X,"Bet B ("+n(o(l.results.oddsB))+")",1),t("div",Y,n(s(l.results.stakeB)),1)]),l.results.oddsC?(S(),_("div",Z,[t("div",tt,"Bet C ("+n(o(l.results.oddsC))+")",1),t("div",et,n(s(l.results.stakeC)),1)])):O("",!0)]),d[4]||(d[4]=t("hr",{class:"border-space/40 mt-8 border-t"},null,-1)),t("div",st,[t("div",null,[t("div",lt,n(s(l.results.payoutA))+" payout",1),t("div",{class:g([{"text-red":l.results.profitA<0},"font-numbers mt-1 text-2xl font-bold"])},n(s(l.results.profitA)),3)]),t("div",null,[t("div",ot,n(s(l.results.payoutB))+" payout",1),t("div",{class:g([{"text-red":l.results.profitB<0},"font-numbers mt-1 text-2xl font-bold"])},n(s(l.results.profitB)),3)]),l.results.oddsC?(S(),_("div",at,[t("div",dt,n(s(l.results.payoutC))+" payout",1),t("div",{class:g([{"text-red":l.results.profitC<0},"font-numbers mt-1 text-2xl font-bold"])},n(s(l.results.profitC)),3)])):O("",!0)])],2)],2),t("div",rt,[f(T,{content:m.value},null,8,["content"])])],2)):O("",!0)}},nt={class:"relative mx-auto flex w-full max-w-7xl flex-col gap-8 px-5 py-8 lg:flex-row lg:items-start lg:justify-between"},it={class:"grid grid-cols-2 items-center gap-4 sm:flex"},mt={class:"sm:w-44"},vt={class:"sm:w-44"},ft={class:"sm:w-44"},ct={class:"sm:w-44"},xt={class:"mt-2"},wt={__name:"PageArbitrage",setup(l){const{getPayout:a,getStake:x,getQueryString:p}=R.methods;D("Arbitrage");const c=w(!1),k=w(!1),i=w(""),m=w(""),s=w(""),o=w("");b(()=>{const r=[`stakea=${i.value}`,`oddsa=${m.value}`,`oddsb=${s.value}`];o.value&&r.push(`oddsc=${o.value}`);const e=r.join("&");return`${window.location.href.split("?")[0]}?${e}`});const v=b(()=>c.value?!(c.value.oddsA===m.value&&c.value.oddsB===s.value&&c.value.oddsC===o.value&&c.value.stakeA===Number(i.value)&&!!o.value==!!c.value.stakeC):!0),d=()=>{document.addEventListener("keydown",r=>{})},A=()=>{if(!m.value||!i.value||!s.value)return;if(!v.value){k.value=!1;return}k.value=!0;let r=0,e=0,u=Number(a(m.value,i.value));o.value?(e=x(s.value,u),r=x(o.value,u),e=Math.round(e),r=Math.round(r)):(e=x(s.value,u),e=Math.round(e));const h=Number(a(s.value,e)),q=o.value?Number(a(o.value,r)):0,N=Number(i.value)+Number(e)+Number(r),U=h-N,j=u-N,M=q-N;c.value={stakeA:Number(i.value),stakeB:e,stakeC:r,oddsA:m.value,oddsB:s.value,oddsC:o.value,payoutA:u,payoutB:h,payoutC:q,profitA:j,profitB:U,profitC:M,ev:o.value?(j+U+M)/3:(j+U)/2},k.value=!1},B=()=>{const r=p("oddsA"),e=p("stakeA"),u=p("oddsB"),h=p("oddsC");m.value=r,i.value=e,s.value=u,o.value=h||"",A()};return P(()=>{d(),B()}),(r,e)=>(S(),_("div",null,[t("section",nt,[t("form",{onSubmit:F(A,["prevent"]),class:"grid max-w-xl gap-6 md:flex-1"},[t("div",it,[t("div",mt,[f($,{for:"stakeA",required:""},{default:C(()=>e[4]||(e[4]=[y("Stake A")])),_:1}),f(V,{modelValue:i.value,"onUpdate:modelValue":e[0]||(e[0]=u=>i.value=u),type:"text",id:"stakeA",addon:"$"},null,8,["modelValue"])]),t("div",vt,[f($,{for:"oddsA",required:""},{default:C(()=>e[5]||(e[5]=[y("Odds A")])),_:1}),f(V,{modelValue:m.value,"onUpdate:modelValue":e[1]||(e[1]=u=>m.value=u),type:"text",id:"oddsA"},null,8,["modelValue"])])]),t("div",ft,[f($,{for:"oddsB",required:""},{default:C(()=>e[6]||(e[6]=[y("Odds B")])),_:1}),f(V,{modelValue:s.value,"onUpdate:modelValue":e[2]||(e[2]=u=>s.value=u),type:"text",id:"oddsB",required:""},null,8,["modelValue"])]),t("div",ct,[f($,{for:"oddsC"},{default:C(()=>e[7]||(e[7]=[y("Odds C")])),_:1}),f(V,{modelValue:o.value,"onUpdate:modelValue":e[3]||(e[3]=u=>o.value=u),type:"text",id:"oddsC"},null,8,["modelValue"])]),t("div",xt,[f(z,{disabled:!m.value||!i.value||!s.value,class:"max-sm:w-full","is-submitting":k.value},{default:C(()=>e[8]||(e[8]=[y("Calculate Hedge")])),_:1},8,["disabled","is-submitting"])])],32),f(ut,{results:c.value,class:"md:flex-1"},null,8,["results"])])]))}};export{wt as default};
